<link rel="stylesheet" href="/assets/css/navigation.css">

<header class="site-header">

    <!-- Logo and title -->
    <div class="branding">
        {% if site.avatar %}
        <a href="{{ '/' | relative_url }}">
            <img alt="logo img" class="avatar" src="{{ site.avatar | relative_url }}" style="margin-top: 0.5em"/>
        </a>
        {% endif %}

    </div>

    <nav id="nav" class="collapse navbar-collapse">
        <ul id="navbar" class="navbar">
            {% assign links = site.data.navigation %}
            {% for link in links %}
            {% assign class = nil %}
            {% if page.url contains link.url %}
            {% assign class = 'active' %}
            {% endif %}
            {% if link.child %}
            <li class="has-dropdown">
                <a href="#" class="menu" data-toggle="collapse"
                   role="button" aria-haspopup="true" aria-expanded="false">{{ link.title }} <span class="caret"></span></a>
                <ul class="dropdown-content">
                    {% for sublink in link.sublinks %}
                    <li>
                        <a href="{{ site.url }}{{ site.baseurl }}{{ sublink.url }}">{{ sublink.title }}</a>
                    </li>
                    {% endfor %}
                </ul>
            </li>

            {% else %}
            <li>
                <a href="{{ site.url }}{{ site.baseurl }}{{ link.url }}" class="menu">{{ link.title }}</a>
            </li>
            {% endif %}
            {% endfor %}
        </ul>
    </nav>

</header>


<script>
    // Add active class to the current button (highlight it)
    let header = document.getElementById("navbar");
    var a_tags = header.getElementsByTagName("a");
    console.log(a_tags);
    let url_element = window.location.href;
    console.log(url_element);
    console.log(url_element.includes('Workshop'));

    for (let i = 0; i < a_tags.length; i++) {
        console.log(a_tags[i].text);
        if (url_element.includes(a_tags[i].text)) {
            console.log(a_tags[i].style);
//                console.log(a_tags[i].style);
            a_tags[i].style.setProperty('color', '#007bff');
            console.log(a_tags[i].style);
//                console.log('color:', a_tags[i].style.getPropertyValue('color') + '|');
            a_tags[i].className += 'active';
        }
    }
</script>


<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
<script type="text/javascript">
    function isMobile() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }

    if (isMobile()) {
        console.log('Mobile');
        $(document).ready(function () {
            $("#nav ul.dropdown-content").hide();
            $("#nav ul.navbar li").click(function () {
                // console.log($('ul', this));
                // $('ul', this).slideToggle("fast");
            });
        });
    } else {
        console.log('Desktop');
        $(document).ready(function () {
            $("#nav ul.dropdown-content").hide();
            $("#nav ul.navbar li").hover(function () {
                console.log($('ul', this));
                $('ul', this).toggleClass('visible');
                // $('ul', this).show();
                // $('ul', this).slideToggle("fast");
            });
        });
    }

</script>