
<link rel="stylesheet" href="/assets/css/navigation.css">

<header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
        {% if site.avatar %}
		<a href="{{ '/' | relative_url }}">
			<img alt="logo img" class="avatar" src="{{ site.avatar | relative_url }}" />
		</a>
        {% endif %}

	</div>

  <nav id="nav" class="collapse navbar-collapse">
    <ul id="navbar" class="nav navbar-nav">
      {% assign links = site.data.navigation %}
      {% for link in links %}
        {% assign class = nil %}
        {% if page.url contains link.url %}
          {% assign class = 'active' %}
        {% endif %}
        {% if link.child %}
        <li class="has-dropdown">
          <a href="{{ site.url }}{{ site.baseurl }}{{ link.url }}" class="menu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{ link.title }} <span class="caret"></span></a>
          <ul class="dropdown-content">
            {% for sublink in link.sublinks %}
            <li>
              <a href="{{ site.url }}{{ site.baseurl }}{{ sublink.url }}">{{ sublink.title }}</a>
            </li>
            {% endfor %}
          </ul>
        </li>

        {% else %}
        <li>
          <a href="{{ site.url }}{{ site.baseurl }}{{ link.url }}" class="menu">{{ link.title }}</a>
        </li>
        {% endif %}
      {% endfor %}
    </ul>
  </nav>

</header>

<script>
<<<<<<< HEAD
    // Add active class to the current button (highlight it)
    let header = document.getElementById("navbar");
    let menus = header.getElementsByTagName("a");
    console.log(menus);
    let url_element = window.location.href.split('/');

    for (let i = 0; i < menus.length; i++) {
        if(menus[i].classList.contains())
        menus[i].addEventListener("click", function() {
            console.log('click!');
            let current = document.getElementsByClassName("active");
            current[0].className = current[0].className.replace(" active", "");
            this.className += " active";
        });
    window.onload = function() {
        // Add active class to the current button (highlight it)
        let header = document.getElementById("navbar");
        let a_tags = header.getElementsByTagName("a");
        console.log(a_tags);
        let url_element = window.location.href;
        console.log(url_element);
        console.log(url_element.includes('Workshop'));

        for (let i = 0; i < a_tags.length; i++) {
            console.log(a_tags[i].text);
            if (url_element.includes(a_tags[i].text)) {
                console.log('|' + a_tags[i].style.color + '|');
                a_tags[i].style.color = '#007bff';
                a_tags[i].className += 'active';
            }
        }
    }
</script>


<!--<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        $("#nav ul.dropdown-content").hide();
        $("#nav ul.dropdown-content li").click(function(){
            $("ul",this).slideToggle("fast");
        });
    });
</script>-->